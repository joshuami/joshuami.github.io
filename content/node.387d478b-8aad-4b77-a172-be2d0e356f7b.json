{
    "uuid": [
        {
            "value": "387d478b-8aad-4b77-a172-be2d0e356f7b"
        }
    ],
    "langcode": [
        {
            "value": "en"
        }
    ],
    "type": [
        {
            "target_id": "blog",
            "target_type": "node_type",
            "target_uuid": "5e1cc3ac-5c8f-4194-a7db-a96757398273"
        }
    ],
    "revision_timestamp": [
        {
            "value": "2024-12-19T01:20:40+00:00"
        }
    ],
    "revision_uid": [
        {
            "target_type": "user",
            "target_uuid": "711eae9d-1ca7-45a3-a4b1-9f1e585e1f33"
        }
    ],
    "revision_log": [],
    "status": [
        {
            "value": true
        }
    ],
    "uid": [
        {
            "target_type": "user",
            "target_uuid": "94f18ca1-24cf-4db9-8dc7-6771e8d09443"
        }
    ],
    "title": [
        {
            "value": "This Blog is on Drupal CMS (Starshot)... Kinda... for Now"
        }
    ],
    "created": [
        {
            "value": "2024-12-18T19:01:04+00:00"
        }
    ],
    "changed": [
        {
            "value": "2024-12-19T01:20:40+00:00"
        }
    ],
    "promote": [
        {
            "value": true
        }
    ],
    "sticky": [
        {
            "value": false
        }
    ],
    "default_langcode": [
        {
            "value": true
        }
    ],
    "revision_translation_affected": [
        {
            "value": true
        }
    ],
    "path": [
        {
            "alias": "\/blog\/2024-12\/blog-drupal-cms-starshot-kinda-now",
            "langcode": "en"
        }
    ],
    "body": [
        {
            "value": "<p>In 2015, <a href=\"\/node\/102\" data-entity-type=\"node\" data-entity-uuid=\"518cf2ec-31ed-4a72-81f1-80249e33bfe6\" data-entity-substitution=\"canonical\">I moved this site to Github Pages<\/a> from a Drupal 7 installation. I had several reasons for this move, but my biggest concern was security. I was\u2014and still am\u2014a busy professional with clients that need me to keep my attention on their sites when significant security announcements or releases land in the Drupal world. When I made the move, I was much more concerned with keeping <a href=\"https:\/\/www.drupal.org\/\">Drupal.org<\/a> secure and stable than a personal blog.<\/p><p>I was also keen to use markdown for editing my blog\u2014which I've since become less enamored with due to the excellent markdown autocompletion support <a href=\"https:\/\/support.google.com\/docs\/answer\/12014036?hl=en\">built into tools like Google Docs<\/a> and even <a href=\"https:\/\/www.drupal.org\/node\/3389141\">Drupal's CKEditor implementation<\/a>.&nbsp;<\/p><p>After years of setting up ambitious editorial experiences in modern Drupal, I wanted to be able to experience those improvements in my own blogging. Heck, maybe it will get me writing a bit more.<\/p><p>So with a little spare time this holiday season, I've decided to give a new approach a try.&nbsp;<\/p><p>This site was built using Drupal CMS (currently 1.0.0-rc2), DDev, Tome (a static site generator for Drupal), and Github Pages using a Github Action to deploy the Tome-generated artifact. (Technically, the site is also delivered via Cloudflare using a free-tier account.) With this current setup, I spend $0 on hosting\u2014though there are a few drawbacks that I'll explain below.<\/p><h2>Getting Started with DDev<\/h2><p>A few days ago, <a href=\"https:\/\/www.drupal.org\/u\/drubb\">drubb<\/a> posted <a href=\"https:\/\/drupal.slack.com\/archives\/C072BF486FN\/p1733943130041509\">instructions for trying Drupal CMS using Lando<\/a>. While I used <a href=\"https:\/\/lando.dev\/\">Lando<\/a> for quite a few years on the <a href=\"https:\/\/www.portland.gov\/\">Portland.gov<\/a> project, and I'm quite fond of its approach to tooling, I pretty much exclusively use <a href=\"https:\/\/ddev.com\/\">DDev<\/a> these days for local development. It is faster and has options for Docker management like Rancher Desktop. It's fast on Mac ARM processors and it just works\u2014it also feels like the <a href=\"https:\/\/www.drupal.org\/docs\/getting-started\/installing-drupal\/install-drupal-using-ddev\">community is standardizing on DDev a bit as a \"recommended\" local development tool<\/a>. So I thought, huh, I wonder if I can match that Lando example.<\/p><p>30 minutes later, because of a couple of wrong turns, I had a working copy of Drupal CMS.<\/p><p>Here are the steps assuming you already have <a href=\"https:\/\/ddev.readthedocs.io\/en\/stable\/users\/install\/ddev-installation\/\">DDev installed<\/a>.<\/p><p>Create your project directory and open it.<\/p><pre><code class=\"language-plaintext\">mkdir drupalcms &amp;&amp; cd drupalcms<\/code><\/pre><p>Configure DDev. Feel free to update your project name and webroot.<\/p><pre><code class=\"language-plaintext\">ddev config --auto --project-name=drupalcms --docroot=web --project-type=drupal<\/code><\/pre><p>Use DDev to create your composer project within your project directory. Installing Composer is not required as it will use Composer in the container.<\/p><pre><code class=\"language-plaintext\">ddev composer create drupal\/cms --ignore-platform-reqs --stability dev<\/code><\/pre><p>Launch your site and use the site installer. You won't need to enter database credentials as DDev takes care of this for you.<\/p><pre><code class=\"language-plaintext\">ddev launch<\/code><\/pre><p>Assuming you didn't change the project name, it will open the resulting site at <a href=\"https:\/\/drupalcms.ddev.site\/\">https:\/\/drupalcms.ddev.site\/<\/a> and you'll see the new Drupal CMS installer.&nbsp;<\/p><h2>Drupal CMS (Starshot) as a Starting Point<\/h2><p>I plan to do a more detailed write up on my thoughts regarding Starshot. I've followed it pretty closely since DrupalCon Portland when it was announced. It has a lot of promise to give a more complete Drupal experience from the point of installation. It is also very opionnated. I'm pretty opinionated as well, at least about my Drupal approaches, so I'm on the fence regarding some of the choices in Drupal CMS, but I wanted this initial release of my blog to be as close to the based installation as possible.<\/p><p>Keep in mind, all of what I'm showing below is subject to change between now and 15 January 2025 when Drupal CMS is scheduled for its first stable release. That said, with less than a month, I wouldn't expect huge changes from what I'm seeing at this point. They might remove a bit more, but I doubt a lot will get added.<\/p><p>To get started, I selected just the \"blog\" content type, clicked next.<\/p><drupal-media data-entity-type=\"media\" data-entity-uuid=\"1aba8980-65ee-4762-ba0b-aabf023d1261\" data-view-mode=\"large\">&nbsp;<\/drupal-media><p>The next few screens will walk you through naming your site and creating the first user.<\/p><drupal-media data-entity-type=\"media\" data-entity-uuid=\"d66a48f3-869a-4a4b-851a-1958c2bdcc8d\" data-view-mode=\"large\">&nbsp;<\/drupal-media><p>Incidentally, it automatically names this first user \"admin\" (opinionated remember) so you may want to consider this initial account a service account rather than the account you'll regularly use to publish content on a site like a personal blog.<\/p><drupal-media data-entity-type=\"media\" data-entity-uuid=\"f13eeb77-ce4f-4318-ac9d-72d5645e6347\" data-view-mode=\"large\">&nbsp;<\/drupal-media><p>The first thing I noticed was just how many modules Drupal CMS has in its default install\u2014even when all I've added is the blog content type\u2014so very opinionated at this point.<\/p><p>Now that the install is complete, your fresh new user will land on a fresh new dashboard.<\/p><drupal-media data-entity-type=\"media\" data-entity-uuid=\"391a7c09-32dc-4b97-a1d5-b88813c6a01a\" data-view-mode=\"large\">&nbsp;<\/drupal-media><p>The combination of the Gin admin theme, the new navigation layout, and this simple dashboard is a significant change for anyone with much of a history with Drupal.<\/p><p>Clicking \"Create\" in the new side navigation will immediately give you a little sense of just how much is included by default in with just the blog content type enabled.<\/p><drupal-media data-entity-type=\"media\" data-entity-uuid=\"05ae593f-bb7d-40af-af60-d3f8bad20df0\" data-view-mode=\"large\">&nbsp;<\/drupal-media><p>The options for basic page, blog post (enabled as part of the install) as well as document, image, and user all make sense as sane defaults. That said, I was shocked at some of hte enabled modules in this initial install. In addition to core modules, the following is in this the standard profile:<\/p><ul><li>Autosave Form<\/li><li>ECA<ul><li>BPMN.iO for ECA<\/li><li>ECA base<\/li><li>ECA BPMN<\/li><li>ECA Content<\/li><li>ECA Core<\/li><li>ECA Form<\/li><li>ECA Miscellaneous<\/li><li>ECA Render<\/li><li>ECA UI<\/li><li>ECA User<\/li><\/ul><\/li><li>Simple Add More<\/li><li>JQuery UI<\/li><li>JQuery UI Resizeable<\/li><li>Drupal Symphony Mailer Lite<\/li><li>Easy Email<\/li><li>Easy Email Overrides<\/li><li>Focal Point<\/li><li>SVG Image<\/li><li>Easy Breadcrumb<\/li><li>Automatic Updates (which will be part of core one day)<\/li><li>Automatic Updates Extensions<\/li><li>Coffee (though I hear this might be removed for performance reasons)<\/li><li>Gin Toolbar<\/li><li>Login with email or username<\/li><li>Menu Link Attributes<\/li><li>Package Manager<\/li><li>Pathauto<\/li><li>Project Browser<\/li><li>Redirect<\/li><li>Redirect 404<\/li><li>Token<\/li><li>Trash<\/li><li>Antibot<\/li><li>CAPTCHA<\/li><li>Friendly Captcha<\/li><li>Honeypot<\/li><li>Klaro Cookie &amp; Consent Manager<\/li><li>Linkit<\/li><li>Add Content by Bundle<\/li><li>Better Exposed Filters<\/li><li>Selective Better Exposed Filters<\/li><\/ul><p>Wow. Did I mention Drupal CMS will be a bit opinionated? This isn't even a complete list of what has been added to the composer dependencies for the project. There are quite a few additional modules included in that dependency tree that you'll likely find yourself using on many projects.<\/p><p>While I've used a fair number of these modules, I was surprised with quite a few that I had not hear of before Drupal CMS. When I get around to a more thorough review, I'll give my thoughts on which of these I feel like I'll be pruning from nearly every install.<\/p><p>It's also worth noting that there is so much more in Drupal CMS than just contrib modules and related recipes. For example, Drupal CMS has 53 image styles and 29 responsive image styles. Drupal CMS also enables some features by default that I have not used on every Drupal project like Layout Builder\u2014which I've never used without installing a lot of <a href=\"https:\/\/www.drupal.org\/docs\/8\/core\/modules\/layout-builder\/additional-modules\">other layout builder contrib modules<\/a>. This choice has huge implications for future Drupal architectural approaches.<\/p><h2>Importing Old Posts into Drupal CMS<\/h2><p>Drupal has powerful migration tools to get content into its database. If you haven't seen the <a href=\"https:\/\/www.youtube.com\/watch?v=nhPiL4g972A\">demo from DrupalCon Barcelona<\/a> where Dries talks about the possibilty of AI importers, I highly recommend it. That said, I wasn't keen on writing all the prompts to pull in 59 blog posts. (Did I mention I want to write more?)<\/p><p>Jekyll has a templating language, Liquid, that is quite similar to the Twig used by Drupal. I spent a little time to create a template that would generate a CSV file with my posts and used the <a href=\"https:\/\/www.drupal.org\/project\/feeds\">Feeds<\/a> module to create an import process in a couple hours.<\/p><p>Alternatively, I could have used the migration framework and written a script to use a contrib module like <a href=\"https:\/\/www.drupal.org\/project\/migrate_source_csv\">Migrate Source CSV<\/a>. I highly recommend the migration framework for complex migrations that need to be rerun multiple times against large content models.<\/p><h2>Configuring Tome and Github Pages<\/h2><p><a href=\"https:\/\/www.drupal.org\/project\/tome\">Tome<\/a> is a static site generator for Drupal. The <a href=\"https:\/\/tome.fyi\/docs\/\">documentation for Tome<\/a> is pretty solid with guides for several different hosting options.<\/p><p>Adding Tome is simple:<\/p><pre><code class=\"language-plaintext\">composer require drupal\/tome\r\ndrush en tome<\/code><\/pre><p>You'll need to let Drupal know where Tome should place its artifacts by adding some values to <code>settings.php<\/code>. The defaults in Tome's documentation look like this:<\/p><pre><code class=\"language-php\">$settings['tome_files_directory'] = '..\/files';\r\n$settings['tome_content_directory'] = '..\/content';\r\n$settings['tome_static_directory'] = '..\/html';\r\n$config_directories['sync'] = '..\/config';<\/code><\/pre><p>I chose to put my files in the same directory as the generated static content.<\/p><pre><code class=\"language-php\">$settings['tome_files_directory'] = '..\/html';<\/code><\/pre><p>This allowed me to keep some images from my Jekyll installation in the same site relative location as it copied them from what was the Jekyll root into the new Tome static directory.<\/p><p>Running your first export is straightforward.<\/p><pre><code class=\"language-php\">drush tome:export -y<\/code><\/pre><p>Just before you commit your changes, you'll want to generate your static site with the production URI. For my site, I ran this.<\/p><pre><code class=\"language-php\">drush tome:static --uri=https:\/\/joshuami.com<\/code><\/pre><p>I now have a completely static site in the <code>html<\/code> directory of my repo.<\/p><p>To get those files deployed, I made some small changes in my approach to hosting on Github Pages. In the <a href=\"https:\/\/tome.fyi\/docs\/hosting\/github-pages\/\">official Tome approach to hosting on Github<\/a>, these is an example shell script that can be run via a composer script that will replace your root repo with the static asset generated by Tome.&nbsp;<\/p><p>Personally, I wanted my repo to have a copy of my Drupal code rather than just the artifacts. Github Pages has an option to use Github Actions to deploy the artifacts from any artifact directory, this was perfect for my needs.<\/p><drupal-media data-entity-type=\"media\" data-entity-uuid=\"75c94ce5-49d1-417c-83a0-5b8130afac43\">&nbsp;<\/drupal-media><p>You'll be prompted to create an workflow from a standard static site templatet that lives at <code>.github\/workflows\/static.yml<\/code> within your repo.<\/p><p>My static.yml looks like this.<\/p><pre><code class=\"language-php\"># Simple workflow for deploying static content to GitHub Pages\r\nname: Deploy static content to Pages\r\n\r\non:\r\n  # Runs on pushes targeting the default branch\r\n  push:\r\n    branches: [\"main\"]\r\n\r\n  # Allows you to run this workflow manually from the Actions tab\r\n  workflow_dispatch:\r\n\r\n# Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages\r\npermissions:\r\n  contents: read\r\n  pages: write\r\n  id-token: write\r\n\r\n# Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.\r\n# However, do NOT cancel in-progress runs as we want to allow these production deployments to complete.\r\nconcurrency:\r\n  group: \"pages\"\r\n  cancel-in-progress: false\r\n\r\njobs:\r\n  # Single deploy job since we're just deploying\r\n  deploy:\r\n    environment:\r\n      name: github-pages\r\n      url: ${{ steps.deployment.outputs.page_url }}\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Checkout\r\n        uses: actions\/checkout@v4\r\n      - name: Setup Pages\r\n        uses: actions\/configure-pages@v5\r\n      - name: Upload artifact\r\n        uses: actions\/upload-pages-artifact@v3\r\n        with:\r\n          # Upload entire repository\r\n          path: 'html'\r\n      - name: Deploy to GitHub Pages\r\n        id: deployment\r\n        uses: actions\/deploy-pages@v4 <\/code><\/pre><p>The only bit I had to change in their example file was to change the <code>path<\/code> from <code>.<\/code> to <code>html<\/code> where my artifact is located.<\/p><p>After committing the workflow definition, the resulting build replaced my static Jekyll generated site with my new Tome generated site.<\/p><h2>A Couple of Gotchas and Changes<\/h2><p>Compared to authoring markdown for Jekyll, the Drupal editor experience is so much more satisfying.<\/p><p>I did experience a couple of gotchas in my first attempt at publication.<\/p><ol><li>Drupal CMS includes a user account menu block that displays a login link to anonymous users. The login form is useless in a static site and returned a page not found\u2014just needed to remove the block.<\/li><li>Drupal CMS installs Klaro for cookie management which I disabled to avoid static asset errors.<\/li><li>The view created for my blog archive had AJAX enabled by default. That needed to be turned off to properly render the paginated results as static HTML.<\/li><\/ol><p>I also added a little to my default installation in addition to Tome.&nbsp;<\/p><ul><li>I realized that I forgot to change to authored by user to a new \"joshuami\" account rather than \"admin\", so I installed Views Bulk Edit and updated all the posts in one edit.<\/li><li>I wanted to add license information to the footer, so I installed Block Content (from core) and placed a content block in the footer.<\/li><li>As mostly a technology blog, I wanted to format my code snippets a bit so I added Highlight.js Input Filter.<\/li><li>From Drupal CMS, I installed both the SEO Tools and Accessibility Tools recipes from the project browser.<\/li><li>I didn't want the \"Learn more\" link on every blog post for accessibility reasons, so I removed that field from the teaser display.<\/li><\/ul><p>So far, those are my only additions, but there will be more to come.<\/p><h2>Some Drawbacks<\/h2><p>With any technology choice there will be some tradeoffs.<\/p><p>I was surprised to see that my new site does not score as well on Lighthouse.<\/p><drupal-media data-entity-type=\"media\" data-entity-uuid=\"d3541241-c263-4205-b518-2c26f375e1a4\" data-align=\"center\" data-caption=\"Before the migration, I had a site that had a perfect Lighthouse score\u2014complete with confetti!\">&nbsp;<\/drupal-media><drupal-media data-entity-type=\"media\" data-entity-uuid=\"4f9899d1-90c4-426d-ad5e-6f1175736cec\" data-align=\"center\">&nbsp;<\/drupal-media><p>I have not yet had a chance to debug the render blocking CSS and unused javascript that reduces the performance score. I was surprised to see that the Olivero theme would result in less than perfect accessibility. It is specifically dinged for links that rely on color to be distinguishable\u2014they need some underlines on hover or other decoration to meet the goal.<\/p><p>While I appreciate all the amazing work to get Olivero into Drupal core, it is not my favorite theme\u2014even for a simple blog. I'll be figuring out my theming approach in a follow up. I've considered trying TailwindCSS or similar for the experience.<\/p><p>I'm also thinking that I may need a more traditional host to store backups of the database. While a static site is great for security, it is a trade off for disaster recovery when the content is stored in an ephemeral container in my local development environment. This wasn't a concern with Jekyll as the data was all stored in markdown and committed to git. I'll have to give that a bit more thought before I generate to many more posts.<\/p>",
            "format": "content_format",
            "processed": "<p>In 2015, <a href=\"\/2015\/07\/08\/keeping-sharp-with-jekyll-blogging-tool\" data-entity-type=\"node\" data-entity-uuid=\"518cf2ec-31ed-4a72-81f1-80249e33bfe6\" data-entity-substitution=\"canonical\">I moved this site to Github Pages<\/a> from a Drupal 7 installation. I had several reasons for this move, but my biggest concern was security. I was\u2014and still am\u2014a busy professional with clients that need me to keep my attention on their sites when significant security announcements or releases land in the Drupal world. When I made the move, I was much more concerned with keeping <a href=\"https:\/\/www.drupal.org\/\">Drupal.org<\/a> secure and stable than a personal blog.<\/p>\n<p>I was also keen to use markdown for editing my blog\u2014which I've since become less enamored with due to the excellent markdown autocompletion support <a href=\"https:\/\/support.google.com\/docs\/answer\/12014036?hl=en\">built into tools like Google Docs<\/a> and even <a href=\"https:\/\/www.drupal.org\/node\/3389141\">Drupal's CKEditor implementation<\/a>.&nbsp;<\/p>\n<p>After years of setting up ambitious editorial experiences in modern Drupal, I wanted to be able to experience those improvements in my own blogging. Heck, maybe it will get me writing a bit more.<\/p>\n<p>So with a little spare time this holiday season, I've decided to give a new approach a try.&nbsp;<\/p>\n<p>This site was built using Drupal CMS (currently 1.0.0-rc2), DDev, Tome (a static site generator for Drupal), and Github Pages using a Github Action to deploy the Tome-generated artifact. (Technically, the site is also delivered via Cloudflare using a free-tier account.) With this current setup, I spend $0 on hosting\u2014though there are a few drawbacks that I'll explain below.<\/p>\n<h2>Getting Started with DDev<\/h2>\n<p>A few days ago, <a href=\"https:\/\/www.drupal.org\/u\/drubb\">drubb<\/a> posted <a href=\"https:\/\/drupal.slack.com\/archives\/C072BF486FN\/p1733943130041509\">instructions for trying Drupal CMS using Lando<\/a>. While I used <a href=\"https:\/\/lando.dev\/\">Lando<\/a> for quite a few years on the <a href=\"https:\/\/www.portland.gov\/\">Portland.gov<\/a> project, and I'm quite fond of its approach to tooling, I pretty much exclusively use <a href=\"https:\/\/ddev.com\/\">DDev<\/a> these days for local development. It is faster and has options for Docker management like Rancher Desktop. It's fast on Mac ARM processors and it just works\u2014it also feels like the <a href=\"https:\/\/www.drupal.org\/docs\/getting-started\/installing-drupal\/install-drupal-using-ddev\">community is standardizing on DDev a bit as a \"recommended\" local development tool<\/a>. So I thought, huh, I wonder if I can match that Lando example.<\/p>\n<p>30 minutes later, because of a couple of wrong turns, I had a working copy of Drupal CMS.<\/p>\n<p>Here are the steps assuming you already have <a href=\"https:\/\/ddev.readthedocs.io\/en\/stable\/users\/install\/ddev-installation\/\">DDev installed<\/a>.<\/p>\n<p>Create your project directory and open it.<\/p>\n<pre><code class=\"language-plaintext\">mkdir drupalcms &amp;&amp; cd drupalcms<\/code><\/pre><p>Configure DDev. Feel free to update your project name and webroot.<\/p>\n<pre><code class=\"language-plaintext\">ddev config --auto --project-name=drupalcms --docroot=web --project-type=drupal<\/code><\/pre><p>Use DDev to create your composer project within your project directory. Installing Composer is not required as it will use Composer in the container.<\/p>\n<pre><code class=\"language-plaintext\">ddev composer create drupal\/cms --ignore-platform-reqs --stability dev<\/code><\/pre><p>Launch your site and use the site installer. You won't need to enter database credentials as DDev takes care of this for you.<\/p>\n<pre><code class=\"language-plaintext\">ddev launch<\/code><\/pre><p>Assuming you didn't change the project name, it will open the resulting site at <a href=\"https:\/\/drupalcms.ddev.site\/\">https:\/\/drupalcms.ddev.site\/<\/a> and you'll see the new Drupal CMS installer.&nbsp;<\/p>\n<h2>Drupal CMS (Starshot) as a Starting Point<\/h2>\n<p>I plan to do a more detailed write up on my thoughts regarding Starshot. I've followed it pretty closely since DrupalCon Portland when it was announced. It has a lot of promise to give a more complete Drupal experience from the point of installation. It is also very opionnated. I'm pretty opinionated as well, at least about my Drupal approaches, so I'm on the fence regarding some of the choices in Drupal CMS, but I wanted this initial release of my blog to be as close to the based installation as possible.<\/p>\n<p>Keep in mind, all of what I'm showing below is subject to change between now and 15 January 2025 when Drupal CMS is scheduled for its first stable release. That said, with less than a month, I wouldn't expect huge changes from what I'm seeing at this point. They might remove a bit more, but I doubt a lot will get added.<\/p>\n<p>To get started, I selected just the \"blog\" content type, clicked next.<\/p>\n<article class=\"media media--type-image media--view-mode-large\">\n  \n      \n  <div class=\"field field--name-field-media-image field--type-image field--label-visually_hidden\">\n    <div class=\"field__label visually-hidden\">Image<\/div>\n              <div class=\"field__item\">    <picture>\n                  <source srcset=\"\/sites\/default\/files\/styles\/uncropped_500w_webp\/public\/2024-12\/drupal-cms-installer-blog-selected.png.webp?itok=uIQvyUnv 500w, \/sites\/default\/files\/styles\/uncropped_700w_webp\/public\/2024-12\/drupal-cms-installer-blog-selected.png.webp?itok=JGigy6cY 700w, \/sites\/default\/files\/styles\/uncropped_960w_webp\/public\/2024-12\/drupal-cms-installer-blog-selected.png.webp?itok=vbGbWLA- 960w\" media=\"all and (min-width: 500px)\" type=\"image\/webp\" sizes=\"100vw\" width=\"960\" height=\"423\">\n                  <img loading=\"lazy\" width=\"500\" height=\"221\" src=\"\/sites\/default\/files\/styles\/uncropped_500w_webp\/public\/2024-12\/drupal-cms-installer-blog-selected.png.webp?itok=uIQvyUnv\" alt=\"Screenshot of the Drupal CMS installer with the blog content type selected.\">\n\n  <\/picture>\n\n<\/div>\n          <\/div>\n\n  <\/article>\n<p>The next few screens will walk you through naming your site and creating the first user.<\/p>\n<article class=\"media media--type-image media--view-mode-large\">\n  \n      \n  <div class=\"field field--name-field-media-image field--type-image field--label-visually_hidden\">\n    <div class=\"field__label visually-hidden\">Image<\/div>\n              <div class=\"field__item\">    <picture>\n                  <source srcset=\"\/sites\/default\/files\/styles\/uncropped_500w_webp\/public\/2024-12\/give-your-site-a-name.png.webp?itok=aqZXakAe 500w, \/sites\/default\/files\/styles\/uncropped_700w_webp\/public\/2024-12\/give-your-site-a-name.png.webp?itok=4FrcIsUu 700w, \/sites\/default\/files\/styles\/uncropped_960w_webp\/public\/2024-12\/give-your-site-a-name.png.webp?itok=YI1hUDKY 960w\" media=\"all and (min-width: 500px)\" type=\"image\/webp\" sizes=\"100vw\" width=\"960\" height=\"400\">\n                  <img loading=\"lazy\" width=\"500\" height=\"208\" src=\"\/sites\/default\/files\/styles\/uncropped_500w_webp\/public\/2024-12\/give-your-site-a-name.png.webp?itok=aqZXakAe\" alt=\"Drupal CMS installer asks you to give your site a name.\">\n\n  <\/picture>\n\n<\/div>\n          <\/div>\n\n  <\/article>\n<p>Incidentally, it automatically names this first user \"admin\" (opinionated remember) so you may want to consider this initial account a service account rather than the account you'll regularly use to publish content on a site like a personal blog.<\/p>\n<article class=\"media media--type-image media--view-mode-large\">\n  \n      \n  <div class=\"field field--name-field-media-image field--type-image field--label-visually_hidden\">\n    <div class=\"field__label visually-hidden\">Image<\/div>\n              <div class=\"field__item\">    <picture>\n                  <source srcset=\"\/sites\/default\/files\/styles\/uncropped_500w_webp\/public\/2024-12\/create-your-account.png.webp?itok=ADP3ncQJ 500w, \/sites\/default\/files\/styles\/uncropped_700w_webp\/public\/2024-12\/create-your-account.png.webp?itok=Zr1wWOqi 700w, \/sites\/default\/files\/styles\/uncropped_960w_webp\/public\/2024-12\/create-your-account.png.webp?itok=Z7zPC0lx 960w\" media=\"all and (min-width: 500px)\" type=\"image\/webp\" sizes=\"100vw\" width=\"960\" height=\"454\">\n                  <img loading=\"lazy\" width=\"500\" height=\"236\" src=\"\/sites\/default\/files\/styles\/uncropped_500w_webp\/public\/2024-12\/create-your-account.png.webp?itok=ADP3ncQJ\" alt=\"Drupal CMS installer asks you to create the first user account.\">\n\n  <\/picture>\n\n<\/div>\n          <\/div>\n\n  <\/article>\n<p>The first thing I noticed was just how many modules Drupal CMS has in its default install\u2014even when all I've added is the blog content type\u2014so very opinionated at this point.<\/p>\n<p>Now that the install is complete, your fresh new user will land on a fresh new dashboard.<\/p>\n<article class=\"media media--type-image media--view-mode-large\">\n  \n      \n  <div class=\"field field--name-field-media-image field--type-image field--label-visually_hidden\">\n    <div class=\"field__label visually-hidden\">Image<\/div>\n              <div class=\"field__item\">    <picture>\n                  <source srcset=\"\/sites\/default\/files\/styles\/uncropped_500w_webp\/public\/2024-12\/logged-in-redirect-to-dashboard.png.webp?itok=4pIML-R2 500w, \/sites\/default\/files\/styles\/uncropped_700w_webp\/public\/2024-12\/logged-in-redirect-to-dashboard.png.webp?itok=y-bXvrXo 700w, \/sites\/default\/files\/styles\/uncropped_960w_webp\/public\/2024-12\/logged-in-redirect-to-dashboard.png.webp?itok=pKaa0TR0 960w\" media=\"all and (min-width: 500px)\" type=\"image\/webp\" sizes=\"100vw\" width=\"960\" height=\"528\">\n                  <img loading=\"lazy\" width=\"500\" height=\"275\" src=\"\/sites\/default\/files\/styles\/uncropped_500w_webp\/public\/2024-12\/logged-in-redirect-to-dashboard.png.webp?itok=4pIML-R2\" alt=\"Drupal CMS has an attractive and simple new dashboard.\">\n\n  <\/picture>\n\n<\/div>\n          <\/div>\n\n  <\/article>\n<p>The combination of the Gin admin theme, the new navigation layout, and this simple dashboard is a significant change for anyone with much of a history with Drupal.<\/p>\n<p>Clicking \"Create\" in the new side navigation will immediately give you a little sense of just how much is included by default in with just the blog content type enabled.<\/p>\n<article class=\"media media--type-image media--view-mode-large\">\n  \n      \n  <div class=\"field field--name-field-media-image field--type-image field--label-visually_hidden\">\n    <div class=\"field__label visually-hidden\">Image<\/div>\n              <div class=\"field__item\">    <picture>\n                  <source srcset=\"\/sites\/default\/files\/styles\/uncropped_500w_webp\/public\/2024-12\/create-content-from-navigation.png.webp?itok=hL5RgqvK 500w, \/sites\/default\/files\/styles\/uncropped_700w_webp\/public\/2024-12\/create-content-from-navigation.png.webp?itok=xTuL4PUk 700w, \/sites\/default\/files\/styles\/uncropped_960w_webp\/public\/2024-12\/create-content-from-navigation.png.webp?itok=vCaWKlQL 960w\" media=\"all and (min-width: 500px)\" type=\"image\/webp\" sizes=\"100vw\" width=\"960\" height=\"528\">\n                  <img loading=\"lazy\" width=\"500\" height=\"275\" src=\"\/sites\/default\/files\/styles\/uncropped_500w_webp\/public\/2024-12\/create-content-from-navigation.png.webp?itok=hL5RgqvK\" alt=\"Drupal CMS installs quite a bit by default which is evident in the &quot;create&quot; menu item.\">\n\n  <\/picture>\n\n<\/div>\n          <\/div>\n\n  <\/article>\n<p>The options for basic page, blog post (enabled as part of the install) as well as document, image, and user all make sense as sane defaults. That said, I was shocked at some of hte enabled modules in this initial install. In addition to core modules, the following is in this the standard profile:<\/p>\n<ul>\n<li>Autosave Form<\/li>\n<li>ECA\n<ul>\n<li>BPMN.iO for ECA<\/li>\n<li>ECA base<\/li>\n<li>ECA BPMN<\/li>\n<li>ECA Content<\/li>\n<li>ECA Core<\/li>\n<li>ECA Form<\/li>\n<li>ECA Miscellaneous<\/li>\n<li>ECA Render<\/li>\n<li>ECA UI<\/li>\n<li>ECA User<\/li>\n<\/ul>\n<\/li>\n<li>Simple Add More<\/li>\n<li>JQuery UI<\/li>\n<li>JQuery UI Resizeable<\/li>\n<li>Drupal Symphony Mailer Lite<\/li>\n<li>Easy Email<\/li>\n<li>Easy Email Overrides<\/li>\n<li>Focal Point<\/li>\n<li>SVG Image<\/li>\n<li>Easy Breadcrumb<\/li>\n<li>Automatic Updates (which will be part of core one day)<\/li>\n<li>Automatic Updates Extensions<\/li>\n<li>Coffee (though I hear this might be removed for performance reasons)<\/li>\n<li>Gin Toolbar<\/li>\n<li>Login with email or username<\/li>\n<li>Menu Link Attributes<\/li>\n<li>Package Manager<\/li>\n<li>Pathauto<\/li>\n<li>Project Browser<\/li>\n<li>Redirect<\/li>\n<li>Redirect 404<\/li>\n<li>Token<\/li>\n<li>Trash<\/li>\n<li>Antibot<\/li>\n<li>CAPTCHA<\/li>\n<li>Friendly Captcha<\/li>\n<li>Honeypot<\/li>\n<li>Klaro Cookie &amp; Consent Manager<\/li>\n<li>Linkit<\/li>\n<li>Add Content by Bundle<\/li>\n<li>Better Exposed Filters<\/li>\n<li>Selective Better Exposed Filters<\/li>\n<\/ul>\n<p>Wow. Did I mention Drupal CMS will be a bit opinionated? This isn't even a complete list of what has been added to the composer dependencies for the project. There are quite a few additional modules included in that dependency tree that you'll likely find yourself using on many projects.<\/p>\n<p>While I've used a fair number of these modules, I was surprised with quite a few that I had not hear of before Drupal CMS. When I get around to a more thorough review, I'll give my thoughts on which of these I feel like I'll be pruning from nearly every install.<\/p>\n<p>It's also worth noting that there is so much more in Drupal CMS than just contrib modules and related recipes. For example, Drupal CMS has 53 image styles and 29 responsive image styles. Drupal CMS also enables some features by default that I have not used on every Drupal project like Layout Builder\u2014which I've never used without installing a lot of <a href=\"https:\/\/www.drupal.org\/docs\/8\/core\/modules\/layout-builder\/additional-modules\">other layout builder contrib modules<\/a>. This choice has huge implications for future Drupal architectural approaches.<\/p>\n<h2>Importing Old Posts into Drupal CMS<\/h2>\n<p>Drupal has powerful migration tools to get content into its database. If you haven't seen the <a href=\"https:\/\/www.youtube.com\/watch?v=nhPiL4g972A\">demo from DrupalCon Barcelona<\/a> where Dries talks about the possibilty of AI importers, I highly recommend it. That said, I wasn't keen on writing all the prompts to pull in 59 blog posts. (Did I mention I want to write more?)<\/p>\n<p>Jekyll has a templating language, Liquid, that is quite similar to the Twig used by Drupal. I spent a little time to create a template that would generate a CSV file with my posts and used the <a href=\"https:\/\/www.drupal.org\/project\/feeds\">Feeds<\/a> module to create an import process in a couple hours.<\/p>\n<p>Alternatively, I could have used the migration framework and written a script to use a contrib module like <a href=\"https:\/\/www.drupal.org\/project\/migrate_source_csv\">Migrate Source CSV<\/a>. I highly recommend the migration framework for complex migrations that need to be rerun multiple times against large content models.<\/p>\n<h2>Configuring Tome and Github Pages<\/h2>\n<p><a href=\"https:\/\/www.drupal.org\/project\/tome\">Tome<\/a> is a static site generator for Drupal. The <a href=\"https:\/\/tome.fyi\/docs\/\">documentation for Tome<\/a> is pretty solid with guides for several different hosting options.<\/p>\n<p>Adding Tome is simple:<\/p>\n<pre><code class=\"language-plaintext\">composer require drupal\/tome\ndrush en tome<\/code><\/pre><p>You'll need to let Drupal know where Tome should place its artifacts by adding some values to <code>settings.php<\/code>. The defaults in Tome's documentation look like this:<\/p>\n<pre><code class=\"language-php\">$settings['tome_files_directory'] = '..\/files';\n$settings['tome_content_directory'] = '..\/content';\n$settings['tome_static_directory'] = '..\/html';\n$config_directories['sync'] = '..\/config';<\/code><\/pre><p>I chose to put my files in the same directory as the generated static content.<\/p>\n<pre><code class=\"language-php\">$settings['tome_files_directory'] = '..\/html';<\/code><\/pre><p>This allowed me to keep some images from my Jekyll installation in the same site relative location as it copied them from what was the Jekyll root into the new Tome static directory.<\/p>\n<p>Running your first export is straightforward.<\/p>\n<pre><code class=\"language-php\">drush tome:export -y<\/code><\/pre><p>Just before you commit your changes, you'll want to generate your static site with the production URI. For my site, I ran this.<\/p>\n<pre><code class=\"language-php\">drush tome:static --uri=https:\/\/joshuami.com<\/code><\/pre><p>I now have a completely static site in the <code>html<\/code> directory of my repo.<\/p>\n<p>To get those files deployed, I made some small changes in my approach to hosting on Github Pages. In the <a href=\"https:\/\/tome.fyi\/docs\/hosting\/github-pages\/\">official Tome approach to hosting on Github<\/a>, these is an example shell script that can be run via a composer script that will replace your root repo with the static asset generated by Tome.&nbsp;<\/p>\n<p>Personally, I wanted my repo to have a copy of my Drupal code rather than just the artifacts. Github Pages has an option to use Github Actions to deploy the artifacts from any artifact directory, this was perfect for my needs.<\/p>\n<article class=\"media media--type-image media--view-mode-medium\">\n  \n      \n  <div class=\"field field--name-field-media-image field--type-image field--label-visually_hidden\">\n    <div class=\"field__label visually-hidden\">Image<\/div>\n              <div class=\"field__item\">    <picture>\n                  <source srcset=\"\/sites\/default\/files\/styles\/uncropped_500w_webp\/public\/2024-12\/github-pages-build-and-deployment.png.webp?itok=9UE6-EXF 500w, \/sites\/default\/files\/styles\/uncropped_600w_webp\/public\/2024-12\/github-pages-build-and-deployment.png.webp?itok=ClX8zupa 600w\" media=\"all and (min-width: 500px)\" type=\"image\/webp\" sizes=\"100vw\" width=\"600\" height=\"213\">\n                  <img loading=\"lazy\" width=\"500\" height=\"178\" src=\"\/sites\/default\/files\/styles\/uncropped_500w_webp\/public\/2024-12\/github-pages-build-and-deployment.png.webp?itok=9UE6-EXF\" alt=\"Select the option for Github Actions with the Github Pages configuration.\">\n\n  <\/picture>\n\n<\/div>\n          <\/div>\n\n  <\/article>\n<p>You'll be prompted to create an workflow from a standard static site templatet that lives at <code>.github\/workflows\/static.yml<\/code> within your repo.<\/p>\n<p>My static.yml looks like this.<\/p>\n<pre><code class=\"language-php\"># Simple workflow for deploying static content to GitHub Pages\nname: Deploy static content to Pages\n\non:\n  # Runs on pushes targeting the default branch\n  push:\n    branches: [\"main\"]\n\n  # Allows you to run this workflow manually from the Actions tab\n  workflow_dispatch:\n\n# Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages\npermissions:\n  contents: read\n  pages: write\n  id-token: write\n\n# Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.\n# However, do NOT cancel in-progress runs as we want to allow these production deployments to complete.\nconcurrency:\n  group: \"pages\"\n  cancel-in-progress: false\n\njobs:\n  # Single deploy job since we're just deploying\n  deploy:\n    environment:\n      name: github-pages\n      url: ${{ steps.deployment.outputs.page_url }}\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout\n        uses: actions\/checkout@v4\n      - name: Setup Pages\n        uses: actions\/configure-pages@v5\n      - name: Upload artifact\n        uses: actions\/upload-pages-artifact@v3\n        with:\n          # Upload entire repository\n          path: 'html'\n      - name: Deploy to GitHub Pages\n        id: deployment\n        uses: actions\/deploy-pages@v4 <\/code><\/pre><p>The only bit I had to change in their example file was to change the <code>path<\/code> from <code>.<\/code> to <code>html<\/code> where my artifact is located.<\/p>\n<p>After committing the workflow definition, the resulting build replaced my static Jekyll generated site with my new Tome generated site.<\/p>\n<h2>A Couple of Gotchas and Changes<\/h2>\n<p>Compared to authoring markdown for Jekyll, the Drupal editor experience is so much more satisfying.<\/p>\n<p>I did experience a couple of gotchas in my first attempt at publication.<\/p>\n<ol>\n<li>Drupal CMS includes a user account menu block that displays a login link to anonymous users. The login form is useless in a static site and returned a page not found\u2014just needed to remove the block.<\/li>\n<li>Drupal CMS installs Klaro for cookie management which I disabled to avoid static asset errors.<\/li>\n<li>The view created for my blog archive had AJAX enabled by default. That needed to be turned off to properly render the paginated results as static HTML.<\/li>\n<\/ol>\n<p>I also added a little to my default installation in addition to Tome.&nbsp;<\/p>\n<ul>\n<li>I realized that I forgot to change to authored by user to a new \"joshuami\" account rather than \"admin\", so I installed Views Bulk Edit and updated all the posts in one edit.<\/li>\n<li>I wanted to add license information to the footer, so I installed Block Content (from core) and placed a content block in the footer.<\/li>\n<li>As mostly a technology blog, I wanted to format my code snippets a bit so I added Highlight.js Input Filter.<\/li>\n<li>From Drupal CMS, I installed both the SEO Tools and Accessibility Tools recipes from the project browser.<\/li>\n<li>I didn't want the \"Learn more\" link on every blog post for accessibility reasons, so I removed that field from the teaser display.<\/li>\n<\/ul>\n<p>So far, those are my only additions, but there will be more to come.<\/p>\n<h2>Some Drawbacks<\/h2>\n<p>With any technology choice there will be some tradeoffs.<\/p>\n<p>I was surprised to see that my new site does not score as well on Lighthouse.<\/p>\n<figure role=\"group\" class=\"caption caption-drupal-media align-center\">\n<article class=\"media media--type-image media--view-mode-medium\">\n  \n      \n  <div class=\"field field--name-field-media-image field--type-image field--label-visually_hidden\">\n    <div class=\"field__label visually-hidden\">Image<\/div>\n              <div class=\"field__item\">    <picture>\n                  <source srcset=\"\/sites\/default\/files\/styles\/uncropped_500w_webp\/public\/2024-12\/perfect-score.png.webp?itok=fBpkgUJ3 500w, \/sites\/default\/files\/styles\/uncropped_600w_webp\/public\/2024-12\/perfect-score.png.webp?itok=J4BRu7cd 600w\" media=\"all and (min-width: 500px)\" type=\"image\/webp\" sizes=\"100vw\" width=\"600\" height=\"358\">\n                  <img loading=\"lazy\" width=\"500\" height=\"299\" src=\"\/sites\/default\/files\/styles\/uncropped_500w_webp\/public\/2024-12\/perfect-score.png.webp?itok=fBpkgUJ3\" alt=\"A perfect lighthouse score!\">\n\n  <\/picture>\n\n<\/div>\n          <\/div>\n\n  <\/article>\n\n<figcaption>Before the migration, I had a site that had a perfect Lighthouse score\u2014complete with confetti!<\/figcaption>\n<\/figure>\n<article class=\"align-center media media--type-image media--view-mode-medium\">\n  \n      \n  <div class=\"field field--name-field-media-image field--type-image field--label-visually_hidden\">\n    <div class=\"field__label visually-hidden\">Image<\/div>\n              <div class=\"field__item\">    <picture>\n                  <source srcset=\"\/sites\/default\/files\/styles\/uncropped_500w_webp\/public\/2024-12\/not-so-perfect-score.png.webp?itok=Q5usH-DK 500w, \/sites\/default\/files\/styles\/uncropped_600w_webp\/public\/2024-12\/not-so-perfect-score.png.webp?itok=cWtskwAD 600w\" media=\"all and (min-width: 500px)\" type=\"image\/webp\" sizes=\"100vw\" width=\"600\" height=\"368\">\n                  <img loading=\"lazy\" width=\"500\" height=\"307\" src=\"\/sites\/default\/files\/styles\/uncropped_500w_webp\/public\/2024-12\/not-so-perfect-score.png.webp?itok=Q5usH-DK\" alt=\"Darn it! I have some work to do to get that score back to perfect.\">\n\n  <\/picture>\n\n<\/div>\n          <\/div>\n\n  <\/article>\n<p>I have not yet had a chance to debug the render blocking CSS and unused javascript that reduces the performance score. I was surprised to see that the Olivero theme would result in less than perfect accessibility. It is specifically dinged for links that rely on color to be distinguishable\u2014they need some underlines on hover or other decoration to meet the goal.<\/p>\n<p>While I appreciate all the amazing work to get Olivero into Drupal core, it is not my favorite theme\u2014even for a simple blog. I'll be figuring out my theming approach in a follow up. I've considered trying TailwindCSS or similar for the experience.<\/p>\n<p>I'm also thinking that I may need a more traditional host to store backups of the database. While a static site is great for security, it is a trade off for disaster recovery when the content is stored in an ephemeral container in my local development environment. This wasn't a concern with Jekyll as the data was all stored in markdown and committed to git. I'll have to give that a bit more thought before I generate to many more posts.<\/p>\n",
            "summary": ""
        }
    ],
    "feeds_item": [],
    "field_description": [
        {
            "value": "Way back in 2015, I moved my blog to a static implementation using Jekyll and Github Pages. While I was CTO of the Drupal Association at that time, I also was very aware of my limited time to keep a Drupal installation up to date. I simply wanted\/needed the security a static site ensured. Drupal CMS\u2014and a little extra holiday free time\u2014led me to test a new approach using a Starshot installation while keeping the site static using Tome and  Github Pages."
        }
    ],
    "field_featured_image": [],
    "field_seo_description": [],
    "field_seo_image": [],
    "field_seo_title": [],
    "field_tags": [
        {
            "target_type": "taxonomy_term",
            "target_uuid": "953d2094-d408-40ba-ace8-62e8da23eb27"
        },
        {
            "target_type": "taxonomy_term",
            "target_uuid": "0b6a4e4b-ba4a-4617-a5bc-f8628b08db01"
        },
        {
            "target_type": "taxonomy_term",
            "target_uuid": "22d41df9-a120-47bd-9140-b70a26b7d3c3"
        },
        {
            "target_type": "taxonomy_term",
            "target_uuid": "c1d12731-8510-453d-b627-903d50d3085f"
        },
        {
            "target_type": "taxonomy_term",
            "target_uuid": "03083804-4c6f-406f-a797-8fa3f6d853bf"
        }
    ]
}
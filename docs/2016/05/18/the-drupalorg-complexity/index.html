<!DOCTYPE html>
<html lang="en" dir="ltr" prefix="og: https://ogp.me/ns#" style="--color--primary-hue:202;--color--primary-saturation:79%;--color--primary-lightness:50">
  <head>
    <meta charset="utf-8">
<noscript><style>form.antibot * :not(.antibot-message) { display: none !important; }</style>
</noscript><meta name="description" content="Cross-posted on Drupal.org At DrupalCon New Orleans, during both Dries&rsquo;s keynote and at the State of Drupal Core Conversation, question of whether/when to move to Github came up again.">
<link rel="canonical" href="https://joshuami2.ddev.site/2016/05/18/the-drupalorg-complexity">
<link rel="shortlink" href="https://joshuami2.ddev.site/">
<meta name="rights" content="Copyright &copy;2024 All rights reserved.">
<meta name="referrer" content="unsafe-url">
<meta property="og:site_name" content="Joshuami">
<meta property="og:type" content="article">
<meta property="og:url" content="https://joshuami2.ddev.site/2016/05/18/the-drupalorg-complexity">
<meta property="og:title" content="The Drupal.org Complexity">
<meta property="og:description" content="Cross-posted on Drupal.org At DrupalCon New Orleans, during both Dries&rsquo;s keynote and at the State of Drupal Core Conversation, question of whether/when to move to Github came up again.">
<meta property="og:updated_time" content="2024-12-16T15:06:46-08:00">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:description" content="Cross-posted on Drupal.org At DrupalCon New Orleans, during both Dries&rsquo;s keynote and at the State of Drupal Core Conversation, question of whether/when to move to Github came up again.">
<meta name="twitter:title" content="The Drupal.org Complexity">
<meta name="Generator" content="Drupal 11 (https://www.drupal.org)">
<meta name="MobileOptimized" content="width">
<meta name="HandheldFriendly" content="true">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
        {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://joshuami2.ddev.site/"
        },
        {
            "@type": "ListItem",
            "position": 2,
            "name": "The Drupal.org Complexity"
        }
    ]
}</script>
<link rel="icon" href="/core/misc/favicon.ico" type="image/vnd.microsoft.icon">

    <title>The Drupal.org Complexity | Joshuami</title>
    <link rel="stylesheet" media="all" href="/sites/default/files/css/css_l6Ab_R29-OB3Y6lyVlNn0Rxfg0m2c03WgWoPxwAzmiA.css?delta=0&amp;language=en&amp;theme=drupal_cms_olivero&amp;include=eJx1jMEKAyEMRH9I8ZMkarBho5HE3eLfVxYKPXQvc3hvZoqeAzjmZlGYLlQJlSUBe5uLqVd3MGx4p2NYcs5YyLLs7grSMQu7h-kXd7iowiTpfig10PVP2b7q5VcOeaNi8Wn5xJIPZ8smtpDA0E0Fe4U7PzzNTag">
<link rel="stylesheet" media="all" href="/sites/default/files/css/css_iPRosZxPIKPaZ1H6QCqq5YQ7LxG9unoNfScRazi0bKQ.css?delta=1&amp;language=en&amp;theme=drupal_cms_olivero&amp;include=eJx1jMEKAyEMRH9I8ZMkarBho5HE3eLfVxYKPXQvc3hvZoqeAzjmZlGYLlQJlSUBe5uLqVd3MGx4p2NYcs5YyLLs7grSMQu7h-kXd7iowiTpfig10PVP2b7q5VcOeaNi8Wn5xJIPZ8smtpDA0E0Fe4U7PzzNTag">

    <script src="/libraries/klaro/dist/klaro-no-css.js?sopbrw"></script>

    
<link rel="preload" href="/core/themes/olivero/fonts/metropolis/Metropolis-Regular.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/core/themes/olivero/fonts/metropolis/Metropolis-SemiBold.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/core/themes/olivero/fonts/metropolis/Metropolis-Bold.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/core/themes/olivero/fonts/lora/lora-v14-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
    <noscript><link rel="stylesheet" href="/core/themes/olivero/css/components/navigation/nav-primary-no-js.css?sopbrw">
</noscript>
  </head>
  <body class="path-node page-node-type-blog">
        <a href="#main-content" class="visually-hidden focusable skip-link">
      Skip to main content
    </a>
    
      <div class="dialog-off-canvas-main-canvas" data-off-canvas-main-canvas>
    
<div id="page-wrapper" class="page-wrapper">
  <div id="page">

          <header id="header" class="site-header" data-drupal-selector="site-header" role="banner">

                <div class="site-header__fixable" data-drupal-selector="site-header-fixable">
          <div class="site-header__initial">
            <button class="sticky-header-toggle" data-drupal-selector="sticky-header-toggle" role="switch" aria-controls="site-header__inner" aria-label="Sticky header" aria-checked="false">
              <span class="sticky-header-toggle__icon">
                <span></span>
                <span></span>
                <span></span>
              </span>
            </button>
          </div>

                    <div id="site-header__inner" class="site-header__inner" data-drupal-selector="site-header-inner">
            <div class="container site-header__inner__container">

              


<div id="block-drupal-cms-olivero-site-branding" class="site-branding block block-system block-system-branding-block">
  
    
    <div class="site-branding__inner">
              <div class="site-branding__text">
        <div class="site-branding__name">
          <a href="/" title="Home" rel="home">Joshuami</a>
        </div>
      </div>
      </div>
</div>

<div class="header-nav-overlay" data-drupal-selector="header-nav-overlay"></div>


                              <div class="mobile-buttons" data-drupal-selector="mobile-buttons">
                  <button class="mobile-nav-button" data-drupal-selector="mobile-nav-button" aria-label="Main Menu" aria-controls="header-nav" aria-expanded="false">
                    <span class="mobile-nav-button__label">Menu</span>
                    <span class="mobile-nav-button__icon"></span>
                  </button>
                </div>

                <div id="header-nav" class="header-nav" data-drupal-selector="header-nav">
                  
<nav id="block-drupal-cms-olivero-main-menu" class="primary-nav block block-menu navigation menu--main" aria-labelledby="block-drupal-cms-olivero-main-menu-menu" role="navigation">
            
  <h2 class="visually-hidden block__title" id="block-drupal-cms-olivero-main-menu-menu">Main navigation</h2>
  
        


          
        
    <ul class="menu primary-nav__menu primary-nav__menu--level-1" data-drupal-selector="primary-nav-menu--level-1">
            
                          
        
        
        <li class="primary-nav__menu-item primary-nav__menu-item--link primary-nav__menu-item--level-1">
                              
                      <a href="/blog" class="primary-nav__menu-link primary-nav__menu-link--link primary-nav__menu-link--level-1" data-drupal-selector="primary-nav-menu-link-has-children" data-drupal-link-system-path="blog">            <span class="primary-nav__menu-link-inner primary-nav__menu-link-inner--level-1">Blog</span>
          </a>

            
                  </li>
          </ul>
  


  </nav>


                  

  <div class="region region--secondary-menu">
    <nav id="block-drupal-cms-olivero-account-menu" class="block block-menu navigation menu--account secondary-nav" aria-labelledby="block-drupal-cms-olivero-account-menu-menu" role="navigation">
            
  <span class="visually-hidden" id="block-drupal-cms-olivero-account-menu-menu">User account menu</span>
  
        


          <ul class="menu secondary-nav__menu secondary-nav__menu--level-1">
            
                          
        
        
        <li class="secondary-nav__menu-item secondary-nav__menu-item--link secondary-nav__menu-item--level-1">
          <a href="/user/login" class="secondary-nav__menu-link secondary-nav__menu-link--link secondary-nav__menu-link--level-1" data-drupal-link-system-path="user/login">Log in</a>

                  </li>
          </ul>
  


  </nav>

  </div>

                </div>
                          </div>
          </div>
        </div>
      </header>
    
    <div id="main-wrapper" class="layout-main-wrapper layout-container">
      <div id="main" class="layout-main">
        <div class="main-content">
          <a id="main-content" tabindex="-1"></a>
          
          <div class="main-content__container container">
            

  <div class="region region--highlighted grid-full layout--pass--content-medium">
    <div data-drupal-messages-fallback class="hidden messages-list"></div>

  </div>

            

  <div class="region region--breadcrumb grid-full layout--pass--content-medium">
    

<div id="block-drupal-cms-olivero-breadcrumbs" class="block block-system block-system-breadcrumb-block">
  
    
      <div class="block__content">
        <nav class="breadcrumb" role="navigation" aria-labelledby="system-breadcrumb">
    <h2 id="system-breadcrumb" class="visually-hidden">Breadcrumb</h2>
    <div class="breadcrumb__content">
      <ol class="breadcrumb__list">
                  <li class="breadcrumb__item">
                          <a href="/" class="breadcrumb__link">Home</a>
                      </li>
                  <li class="breadcrumb__item">
                          The Drupal.org Complexity
                      </li>
              </ol>
    </div>
  </nav>

    </div>
  </div>

  </div>


                          <main role="main">
                

  <div class="region region--content-above grid-full layout--pass--content-medium">
    

<div id="block-drupal-cms-olivero-page-title" class="block block-core block-page-title-block">
  
  

  <h1 class="title page-title">
<span>The Drupal.org Complexity</span>
</h1>


  
</div>

  </div>

                

  <div class="region region--content grid-full layout--pass--content-medium" id="content">
    

<div id="block-drupal-cms-olivero-content" class="block block-system block-system-main-block">
  
    
      <div class="block__content">
      

<article class="node node--type-blog node--promoted node--view-mode-full">
  <header class="">
    
          
          <div class="node__meta">
              <span>
          By <span class="node__author">
<span><span>admin</span></span>
</span>, 18 May 2016
        </span>
        
      </div>
      </header>
  <div class="node__content">
          <div class="layout layout--onecol">
    <div class="layout__region layout__region--content">
      

<div class="block block-layout-builder block-field-blocknodeblogbody">
  
    
      <div class="block__content">
      
            <div class="text-content clearfix field field--name-body field--type-text-with-summary field--label-hidden field__item"><p><a href="https://www.drupal.org/drupalorg/blog/the-drupalorg-complexity">Cross-posted on Drupal.org</a></p>
<p>At DrupalCon New Orleans, during both <a href="https://events.drupal.org/neworleans2016/driesnote">Dries&rsquo;s keynote</a> and at the <a href="https://events.drupal.org/neworleans2016/sessions/state-drupal">State of Drupal Core Conversation</a>, question of whether/when to move to Github came up again.</p>
<p>Interestingly, I was already deep into researching ways we could reduce the cost of our collaboration tools while bringing in new contributors. This post is meant to serve as a little history of how we got to where we are and to provide information about how we might choose to go forward.</p>
<h2 id="its-complex">It&rsquo;s complex</h2>
<p>To say Drupal.org is complex is an understatement. There are few systems with more integration points than <a href="https://www.drupal.org/drupalorg/ecosystem">Drupal.org and its related sites and services</a>.</p>
<p><img src="/public/images/drupalorg-ecosystem.png" alt="The Drupal.org ecosystem of sites and services."></p>
<p class="caption">The ecosystem is complex with lots of services that share integrations like login (Bakery single sign on) and cross-site code/themes.</p>
<h2 id="it-all-starts-with-the-code">It all starts with the code</h2>
<p>The slogan &ldquo;come for the code stay for the community&rdquo; is accurate. The community would not exist without the unifying effort of collaborating to create the code. The growth of the community is primarily because of the utility the code provides and the (relative) ease of creating a wide range of websites and applications using Drupal core combined with contributed modules and themes that allow that framework to be extended.</p>
<p>Drupal.org was an extension of the development of Drupal for a very long time. Up until Drupal 6, Drupal.org was always upgraded the day of the release of a new version. When Drupal was smaller with a more limited scope, this made a lot of sense. With the release of Drupal 6 and the surge in usage of Drupal, more and more contributors started working on the Drupal.org infrastructure and creating new sites and services to speed the collaborative work of the community.</p>
<p>One of the biggest transitions during the Drupal 6 lifecycle and community surge was The Great Git Migration. Much of the complexity of Drupal.org and the related sites and services was created during this time period. Understanding that timeline will help in understanding just how much work went into Drupal.org and Drupal at that time.</p>
<h2 id="the-great-git-migration">The <em>Great Git Migration</em></h2>
<p>In the <a href="https://groups.drupal.org/drupal-org-git-team">Great Git Migration</a>, all of the history of Drupal code was migrated to Git from CVS. The timeline for migrating to git was about what you would expect. Community conversation took time, getting volunteers to start the process took time, finally, there was a phase were dedicated (paid) resources were contracted to finish the work.</p>
<ul>
<li><strong>May 2009</strong> - Google Summer of Code project proposed to <a href="https://groups.drupal.org/node/21624">create tools to make the migration of the version control system possible</a> on Drupal.org.</li>
<li><strong>February 2010</strong> - <a href="https://groups.drupal.org/node/48818">Discussion to select the next version control system</a> was kicked off; at the time, it was a choice between Git, Baazar and Mercucial.</li>
<li><strong>July 2010</strong> - <a href="https://www.drupal.org/project/great_git_migration">The Great Git Migration project</a> is created on Drupal.org to manage the related issues and planning.</li>
<li><strong>February 2011</strong> - <a href="https://www.drupal.org/commitlog/commit/4812/624500e1565aa4cdbb12e44a69c878c0c9652169">First commit to the Git repositories</a> by the migration bot.</li>
<li><strong>July 2011</strong> - The Great Git Migration project and discussions around version control selection are last updated. This represents the semi-official end of the migration project.</li>
<li><strong>August 2011</strong> - The <a href="https://groups.drupal.org/node/313068">&ldquo;let&rsquo;s move to Github&rdquo; wiki/discussion</a> is kicked off.</li>
</ul>
<h3 id="our-repos-are-vast">Our repos are vast</h3>
<p>We have over 35,000 projects that total over 50 GB on disk.</p>
<p><img src="/public/images/drupalorg-projects-git.png" alt="Representation of repos related to projects."></p>
<p>All of the Git repos on Drupal.org are associated with Projects.(e.g. modules, themes, distributions, etc.)</p>
<h2 id="we-have-issues">We have issues</h2>
<p>At the end of 2015, there were nearly 900,000 issues on Drupal.org. Drupal core alone has over 74,000 issues&mdash;over 14,000 of those issues are open. Open issues is not an indicator of code quality, but it is an indicator of how many people have contributed to a project. In general, the more issues a project has, the more challenging it is for maintainers to continuously triage those bug reports, feature requests, plans, tasks and support requests.</p>
<p><img src="/public/images/drupalorg-projects-git-issues.png" alt="Representation of issues related to projects and Git repos."></p>
<p>The issue queues are part project management, part bug tracking. As such, they are organic and messy and have lots of rules that have been documented over years of community development. We have 23 pages of documentation dedicated to explaining how to use the issue queues. There is additional documentation dedicated to how to properly fill out an issue for core, for Drupal.org, and for numerous other contributed projects.</p>
<h3 id="issues-are-integrated-into-collaboration-on-drupalorg">Issues are integrated into collaboration on Drupal.org</h3>
<p>Those issues belong to projects and are connected to the Git repos through hooks that show a system comment when an issue is related by node ID (issue number) to a commit in Git.</p>
<p>Issues can have patches uploaded to them that are the primary means of suggesting a change to code hosted on Drupal.org. The patch-based workflow has extensive documentation, but it is not a simple task for a novice user to jump in and start contributing.</p>
<p>Most Git hosting solutions (Github, Gitlab, Bitbucket, etc.) either have some version of an issue or at least integrate with an issue tracking system (Jira, Pivotal Tracker, etc.) and provide pull request functionality (a.k.a. merge requests).</p>
<p>Having the same name is where the similarities and consistencies stop. Issues on Drupal.org have status, priority, category, component, tagging and more that are unique to Drupal project workflow. It would be a significant exercise to remap all of those categorizations to a new system.</p>
<h2 id="packaging">Packaging</h2>
<p>If the projects are what you can browse and find, and the issues are how you collaborate and change the code, the next most important service for Drupal is likely the packaging system.</p>
<p><img src="/public/images/drupalorg-projects-packaging.png" alt="Representation of projects and repos related to packaging."></p>
<p>Packaging is based on project maintainers creating a <em>release</em> of the code by associating a branch of the Git repository with the release. Every 5 minutes, our automation infrastructure checks for new releases and will package those releases into a downloadable file to represent the project.</p>
<p>Few developers actually access this directly from the project page anymore. They are much more likely to use Git, Drush, Console or Composer to automate that part of the workflow. Drush, and to some extent Composer, both use the packaged files when a command is issued. Also, the Drupal feature of just putting the code in the correct directory and it will run&mdash;with no compiling&mdash;is fundamental to the history of Drupal site building.</p>
<h2 id="updates">Updates</h2>
<p><img src="/public/images/drupalorg-projects-updates.png" alt="Representation of projects and repos related to updates."></p>
<p>Another crucial Drupal service, updates is built into how Drupal core checks on itself to see if it is up to date.</p>
<p>The 1.3 million plus websites that call home to updates.drupal.org get back XML that is then parsed by that installation&rsquo;s update status module; that updates module has different names depending on the version of Drupal. Each month, about 12 terabytes of traffic to our CDN is requests for updates XML. Considering this is a bunch of text files, this is an amazing number to consider. Some sites call home once a week, some once a day, and some do it every few minutes. (Really people! Be nice to your free updates service. Telling your server to ask for updates daily is plenty frequent enough.)</p>
<p>Tallying the unique site keys that request this information is how we get our <a href="https://www.drupal.org/project/usage">usage statistics</a>. While this is probably not the most precise way to measure our usage, it is directionally accurate. There are plenty of development sites in those stats and plenty of production websites that don&rsquo;t call home. It should roughly balance out. To be anymore precise, users of Drupal would have to give up some privacy. We&rsquo;ve balanced accuracy with privacy.</p>
<p>Because of our awesome CDN (thanks, Fastly!), we are able to deliver up to date packages and updates information in milliseconds after we update the underlying data.</p>
<h2 id="composer">Composer</h2>
<p><img src="/public/images/drupalorg-projects-composer.png" alt="Representation of projects and repos related to Composer."></p>
<p>On May 3rd, we launched the <a href="https://www.drupal.org/node/2713789">alpha version of our Composer endpoints</a> on Drupal.org. If you don&rsquo;t know about <a href="https://getcomposer.org/">Composer</a>, you should <a href="https://getcomposer.org/doc/00-intro.md">read up on it</a>. Composer is package management for PHP. (It&rsquo;s similar to what NPM does for Node.js or RubyGems does for Ruby.)</p>
<p>Core developers have been using Composer for some time as a means to manage the dependencies of PHP libraries that are now included in core.</p>
<p>The <a href="https://www.drupal.org/node/2576285">Composer endpoints</a> allow any Drupal site developer to use <code class="language-plaintext highlighter-rouge">composer install</code> to build out their websites.</p>
<p>The new Composer service will also allow contrib project maintainers to using composer.json files to define the requirements for their modules and themes. The service even translates project release versions into semantic versioning. Semantic versioning was the biggest reason we could not &ldquo;just&rdquo; use <a href="http://packagist.org">Packagist.org</a> like other projects in the PHP community.</p>
<p>This is all a huge benefit, but more importantly, we now have deep integration between a best practice approach to PHP dependency management and the Drupal.org code repos that can scale to our community needs.</p>
<h2 id="testing-with-drupalci">Testing with DrupalCI</h2>
<p>Speaking of needs, DrupalCI ran 67,000 test runs in January 2016. Each test run for Drupal core has 18,511 tests per run. That means over 100,000 assertions (steps) in the unit and functional tests that make sure Drupal&rsquo;s code is stable and that an accepted patch does not create a regression.</p>
<p><img src="/public/images/drupalorg-projects-issues-drupalci.png" alt="Representation of projects, repos and issues related to DrupalCI."></p>
<p>At the time of this post, we are using Amazon Web Services cc2.8xlarge EC2 spot instances for our testbots. These bots are powerful. They have 2 processors with 8 hardware cores. AWS claims they can provide 88 EC2 compute units per instance. They are packed with processing power because we have a lot of tests to run. While there are bigger instances, the combination of price and power allows us to keep Drupal core complete test runs right around 30 minutes. We autoscale up to 20 of these instances depending on demand, which keeps queue times low and allows maintainers to get quick feedback about whether a patch works or not.</p>
<p>I truly believe that getting DrupalCI up and stable is what allowed Drupal 8 to get to a full release last fall. Without it, we would have continued to struggle with test times that were well over an hour and a system that required surplus testbots to be manually spun up when a big sprint was happening. That was costly and a huge time waste.</p>
<p>If anyone asks me &ldquo;what&rsquo;s the most important thing your team did in 2015&rdquo;, I can unequivocally say &ldquo;unblocking core development to get Drupal 8 released.&rdquo;</p>
<h2 id="issue-credits">Issue credits</h2>
<p>The second most important service we built in 2015&mdash;but certainly the more visible&mdash;is a system for crediting users and organizations that contribute on Drupal.org.</p>
<p><img src="/public/images/drupalorg-projects-issues-credits.png" alt="Representation of projects and issues related to credits."></p>
<p>Issue credits sprang forth from an <a href="http://buytaert.net/a-method-for-giving-credit-to-organizations-that-contribute-code-to-open-source">idea that Dries proposed</a> around DrupalCon Austin in June of 2014. At the time, his intent was a means of structuring commit messages or using commit notes to provide the credit. Eventually, we shifted the implementation to focus on participation in issues rather than code commits. This made it possible to credit collaboration that did not result in a code change.</p>
<p>I won&rsquo;t get into the specifics; I wrote a <a href="http://joshuami.com/2016/01/11/guide-to-issue-credits-and-marketplace/"><em>A guide to issue credits and the Drupal.org marketplace</em></a> earlier this year. Issue credits have been extremely successful.</p>
<p>As there name implies, we store the data about credits as a relationship to closed issues. Issue credits touch issues, projects, users, organizations and the marketplace on Drupal.org.</p>
<h2 id="why-not-just-migrate-all-of-this-complexity-to-github">Why not just migrate all of this complexity to Github?</h2>
<blockquote><p><em>Why can&rsquo;t we just move all this to Github?</em><br>&mdash; said <a href="https://groups.drupal.org/node/313068">lots of people</a>, often</p>
</blockquote>
<p>To be fair, this is a challenging discussion. Angie Byron (<a href="https://www.drupal.org/u/webchick">webchick</a>) wrote an amazingly concise <a href="https://groups.drupal.org/node/313068#comment-955593">summary of the Github issue</a> on Groups.drupal.org.</p>
<p>That wiki/discussion/bikeshed was heated. The conversation lasted over two years. I started as CTO about 6 months into the conversation. Along with a couple of other themes, the Github move has been a constant background conversation that has defined much of my time leading the Drupal.org team.</p>
<h2 id="how-are-these-services-connected">How are these services connected?</h2>
<p>To truly understand the problem of a migration of this scale, we have to look at how all of the major Drupal.org services are connected.</p>
<p><img src="/public/images/the-drupalorg-complexity.png" alt="Representation of the relationships between services and sites in the Drupal.org ecosystem."></p>
<p>Each block in this diagram is a service. Each line is a point of integration between the services. Some of these <em>services</em> are on Drupal.org or subsites with thousands of lines of custom code defining the interactions. Other <em>services</em> are not built in Drupal and represent projects in Java (Jenkins) or Python (our Git daemon) with varying degrees of customization and configuration.</p>
<p>As the diagram suggests, it is truly a <em>web</em> of integrations. Pull one or more services out of this ecosystem and you have to either refactor a ton of code or remove a critical component of how the community collaborates and how our users build sites with Drupal.</p>
<p>It&rsquo;s kinda like a great big game of <a href="https://en.wikipedia.org/wiki/Jenga">Jenga</a>.</p>
<h2 id="what-would-a-migration-to-github-require">What would a migration to Github require?</h2>
<p>Please believe me when I say that if it were &ldquo;easy&rdquo; or &ldquo;simple&rdquo;, we would have made either moved to Github or at least <a href="https://www.drupal.org/node/2488266">upgraded our Git collaboration with nifty new tools</a> on our own infrastructure.</p>
<p>However, disrupting the development of Drupal 8 would have been devastating to the project. We were correct to collectively backlog this project.</p>
<p>So if we were to try this migration now, what would it take? First, you have to consider the services that Github would effectively replace.</p>
<p>Github replaces:</p>
<ul>
<li>Git repositories</li>
<li>Issues</li>
<li>Patches (they would become pull requests)</li>
<li>Git viewing (and we&rsquo;d get inline editing for quick fix and onboarding)</li>
</ul>
<p><img src="/public/images/the-drupalorg-complexity-highlight-github-impact.png" alt="Areas of the Drupal.org system integration map with services that Github could replace highlighted (4) and integrations points that would need to be refactored (16)."></p>
<p>That&rsquo;s four (4!) services that we would not have to maintain anymore. Awesome! Cost savings everywhere! Buy a boat!</p>
<p>Wait a second. You have 16 integration points that you need to refactor. Some of them would come with the new system. Issues, pull requests, repos and the viewer would all just work with huge improvements. That leaves us with 12 integration points that would require a ton of discovery and refactoring.</p>
<ol>
<li><strong>Users</strong> - we have 100,000 Drupal.org users that are pretty engaged. (We have over 1 million user accounts&mdash;but that number is likely a little inflated by spam accounts.) Do we make them all get Github accounts? Do we integrate Github login to Drupal.org? Do we just link the accounts like Symfony does?</li>
<li><strong>Projects</strong> - Github is not a project browsing experience. Drupal.org is a canonical repository where the &ldquo;one true project&rdquo; lives for packaging and updates. At the very least, we have to integrate our projects with Github. Does that mean we have to keep a Git repo associated to the project that has hooks to pull in changes from Github?</li>
<li><strong>Testing</strong> - One of the less complex integration refactors would be getting DrupalCI integrated with pull requests. That effort would still be a months long project.</li>
</ol>
<p>And DrupalCI would be its own effort to migrate to another testing service because it is tailored to the issue queue workflow and tightly integrated with projects.</p>
<p><img src="/public/images/the-drupalorg-complexity-highlight-testing-integrations.png" alt="Areas of the Drupal.org system integration map with the testing service (DrupalCI) highlighted and the integration points that would need to be refactored (4)."></p>
<p>Those are just a few of the major integration points.</p>
<p>I have a personal goal to detail every single integration and get that documented somewhere on Drupal.org. I don&rsquo;t think that level of documentation will increase the ability for others to contribute to the Drupal.org infrastructure&mdash;though that would be a pleasant side effect. I do think it is necessary for us to continue to support and maintain our systems and ensure that all of the tribal knowledge from the Drupal.org team can be passed on.</p>
<h2 id="what-would-it-cost">What would it cost?</h2>
<p>I have joked that it would take roughly 1 million dollars (USD) to complete a Github migration. (<a href="https://www.youtube.com/watch?v=l91ISfcuzDw">Cue Dr. Evil.</a>) That is only partially meant in jest.</p>
<p>As anyone who has estimated a large project knows, there is a point of uncertainty that leads project owners to guess at what they are <em>willing</em> to pay for the project.</p>
<p>If we take the four biggest lifts in the Drupal project&rsquo;s history, what do we get?</p>
<ol>
<li><strong>Drupal.org redesign</strong> - There were tens of people involved in the project, hundreds giving feedback. The timeline was about a year from start to implementation.</li>
<li><strong>The Great Git Migration</strong> - There were tens of people involved in the project. Far fewer users gave feedback, but the project took about two years from brainstorming to initial commit to the Git repos&mdash;with a few months of clean up after.</li>
<li><strong>Drupal.org upgrades to Drupal 7</strong> - The project took about two years with tens of people involved in about 8 months of clean up issues.</li>
<li><strong>Drupal 8</strong> - 5 years of development by over 3,000 contributors.</li>
</ol>
<p>I don&rsquo;t think than anyone would argue that each of these projects would have been bid at well over $1 million. I would put a migration to Github at somewhere between the complexity of The Great Git Migration and Drupal 8.</p>
<p>In none of these cases did the Drupal Association actually spend $1 million USD in project dollars. However, in all of the projects, there was lengthy discussion followed by substantial volunteer contribution, and then a significant bit of paid work to finish the job. It&rsquo;s a pattern that makes sense and will likely repeat itself over and over.</p>
<h2 id="would-it-be-worth-it">Would it be worth it?</h2>
<p>I&rsquo;m going to go back to the <a href="https://groups.drupal.org/node/313068#comment-955593">summary on the Github discussion</a>. There are reasons why both options seem to be the best possible option or the worst possible option.</p>
<p>Would a best practice workflow and toolset be worth the change? Absolutely. Github (or Gitlab) tools are easier for newcomers to learn. Further, because we are using PHP and Javascript libraries that are hosted on Github, we could get contributions from developers and designers that are involved in those projects and do not wish to have account on Drupal.org.</p>
<p>The drawbacks are considerable. We cannot afford a full migration right now. Dries put it well at DrupalCon Los Angeles during core conversations. The Drupal Association is not a bag of money. With significant growth of revenue, there is a long term possibility of more paid developer resources, but not in the short term. It is too much to ask volunteers to give up a year of their life to run the project as a community initiative. That leads to burn out and frustration.</p>
<p>We should also consider whether the disruption to the current collaboration workflow will be worth it. I don&rsquo;t think so. Not if that disruption meant stalling the update of contrib projects that are critical to solidifying Drupal 8 adoption. (Though I could argue that much of this upgrade to Drupal 8 work is being performed on Github as some&mdash;perhaps many&mdash;developers prefer those tools.)</p>
<h2 id="is-there-a-middle-ground">Is there a middle ground?</h2>
<p>Drupal spends a lot of time getting to the middle ground. Many of the best innovations in Drupal come from getting to the middle ground&mdash;from reaching a general consensus and then allowing someone who has support and time iron out the details.</p>
<p>So for the first step, we <strong>should</strong> add functionality to projects on Drupal.org that allow maintainers to shift their workflow to Github while still publishing their project on Drupal.org. This allows the canonical browsing of projects, the continued support of the security team, and most importantly the continued distribution of Drupal through Composer, release packaging and the updates system.</p>
<p>We have a solid way forward for these integrations as the requirements are narrow enough in scope to accomplish in a 4-6 month timeframe using dedicated resources. We would still need to figure out how to award an issue credit to someone that participated in an issue on Github. We might be able to institute commit credits that could be parsed into issue credits from the participation on Github, but it would not be as inclusive as the current model.</p>
<p>It would be important to phase in this new feature rather than make a wholesale change. Once that integration is in place, we could extend DrupalCI to test pull requests similar to how we currently test patches submitted to an issue.</p>
<h2 id="stay-flexible">Stay flexible</h2>
<p>We need to be flexible. GitHub has a lot of potential as tool for open source distribution and collaboration&mdash;likely for the foreseeable future. However, not every major project is on GitHub. The Linux Kernel uses Git repositories with cli tools and a patch-based workflow that relies heavily on email. It works for them. Wordpress is still on Subversion&mdash;even though they&rsquo;ve started to accept some pull requests on GitHub. These projects are poised to make the right decision rather than a rash decision.</p>
<p>The sky will not fall if we keep our current model, but we are losing opportunities to grow as a community of contributors. Rather than a wholesale migration, we must understand the value and history of this web of integration points. Targeting our efforts on specific integrations points can achieve our goal of opening our doors to the developers who live and breathe GitHub, without losing the character of our collaboration. And in the long run, this focus on services and integrations can make us more adaptable to the next change in the broader development landscape.</p>
<p>Special thanks to Tim Lehnen, Ryan Aslett, Rudy Grigar and Neil Drumm for helping me pull this data together and to the rest of the Drupal.org team for reviewing the post for typos.</p>
</div>
      
    </div>
  </div>

    </div>
  </div>

  </div>
  </article>

    </div>
  </div>

  </div>

              </main>
                        
          </div>
        </div>
        <div class="social-bar">
          
        </div>
      </div>
    </div>

    <footer class="site-footer">
      <div class="site-footer__inner container">
        

  <div class="region region--footer-top grid-full layout--pass--content-medium">
    <div class="region--footer_top__inner">
      <nav id="block-drupal-cms-olivero-footer-menu" class="block block-menu navigation menu--footer" aria-labelledby="block-drupal-cms-olivero-footer-menu-menu" role="navigation">
            
  <h2 class="visually-hidden block__title" id="block-drupal-cms-olivero-footer-menu-menu">Footer</h2>
  
        
          <ul class="menu menu--level-1">
            
                          
        
        
        <li class="menu__item menu__item--link menu__item--level-1">
                    
          <a href="" rel="open-consent-manager" class="menu__link menu__link--link menu__link--level-1">My privacy settings</a>

          
        </li>
          </ul>
  


  </nav>

    </div>
  </div>

        

  <div class="region region--footer-bottom grid-full layout--pass--content-medium">
    

<div id="block-drupal-cms-olivero-powered" class="block block-system block-system-powered-by-block">
  
    
    
  <span>
    Powered by    <a href="https://www.drupal.org">Drupal</a>
    <span class="drupal-logo" role="img" aria-label="Drupal Logo">
      <svg width="14" height="19" viewbox="0 0 42.15 55.08" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M29.75 11.73C25.87 7.86 22.18 4.16 21.08 0 20 4.16 16.28 7.86 12.4 11.73 6.59 17.54 0 24.12 0 34a21.08 21.08 0 1042.15 0c0-9.88-6.59-16.46-12.4-22.27zM10.84 35.92a14.13 14.13 0 00-1.65 2.62.54.54 0 01-.36.3h-.18c-.47 0-1-.92-1-.92-.14-.22-.27-.45-.4-.69l-.09-.19C5.94 34.25 7 30.28 7 30.28a17.42 17.42 0 012.52-5.41 31.53 31.53 0 012.28-3l1 1 4.72 4.82a.54.54 0 010 .72l-4.93 5.47zm10.48 13.81a7.29 7.29 0 01-5.4-12.14c1.54-1.83 3.42-3.63 5.46-6 2.42 2.58 4 4.35 5.55 6.29a3.08 3.08 0 01.32.48 7.15 7.15 0 011.3 4.12 7.23 7.23 0 01-7.23 7.25zM35 38.14a.84.84 0 01-.67.58h-.14a1.22 1.22 0 01-.68-.55 37.77 37.77 0 00-4.28-5.31l-1.93-2-6.41-6.65a54 54 0 01-3.84-3.94 1.3 1.3 0 00-.1-.15 3.84 3.84 0 01-.51-1v-.19a3.4 3.4 0 011-3c1.24-1.24 2.49-2.49 3.67-3.79 1.3 1.44 2.69 2.82 4.06 4.19a57.6 57.6 0 017.55 8.58A16 16 0 0135.65 34a14.55 14.55 0 01-.65 4.14z"></path>
</svg>
    </span>
  </span>
</div>

  </div>

      </div>
    </footer>

    <div class="overlay" data-drupal-selector="overlay"></div>

  </div>
</div>

  </div>

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","pathPrefix":"","currentPath":"node\/93","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","suppressDeprecationErrors":true,"klaro":{"config":{"elementId":"klaro","storageMethod":"cookie","cookieName":"klaro","cookieExpiresAfterDays":30,"cookieDomain":"","groupByPurpose":true,"acceptAll":false,"hideDeclineAll":false,"hideLearnMore":false,"learnMoreAsButton":false,"additionalClass":"","htmlTexts":false,"privacyPolicy":"\/privacy-policy","services":[{"name":"cms","default":true,"title":"Drupal CMS","description":"Store data (e.g. cookie for user session) in your browser (required to use this website).","purposes":["cms"],"callbackCode":"","cookies":[["^[SESS|SSESS]","",""]],"required":true,"optOut":false,"onlyOnce":false,"translations":{"en":{"title":"Drupal CMS"}}},{"name":"klaro","default":true,"title":"Consent manager","description":"Klaro! Cookie \u0026 Consent manager saves your consent status in the browser.","purposes":["cms"],"callbackCode":"","cookies":[["klaro","",""]],"required":true,"optOut":false,"onlyOnce":false,"translations":{"en":{"title":"Consent manager"}}},{"name":"vimeo","default":false,"title":"Vimeo","description":"Vimeo is a video sharing platform by Vimeo, LLC (USA).","purposes":["external_content"],"callbackCode":"","cookies":[],"required":false,"optOut":false,"onlyOnce":false,"translations":{"en":{"title":"Vimeo"}}},{"name":"youtube","default":false,"title":"YouTube","description":"YouTube is an online video sharing platform owned by Google.","purposes":["external_content"],"callbackCode":"","cookies":[],"required":false,"optOut":false,"onlyOnce":false,"translations":{"en":{"title":"YouTube"}}}],"translations":{"en":{"consentModal":{"title":"Use of personal data and cookies","description":"Please choose the services and 3rd party applications we would like to use.\n","privacyPolicy":{"name":"privacy policy","text":"To learn more, please read our {privacyPolicy}.\n"}},"consentNotice":{"changeDescription":"There were changes since your last visit, please update your consent.","description":"We use cookies and process personal data for the following purposes: {purposes}.\n","learnMore":"Customize","privacyPolicy":{"name":"privacy policy"}},"ok":"Accept","save":"Save","decline":"Decline","close":"Close","acceptAll":"Accept all","acceptSelected":"Accept selected","service":{"disableAll":{"title":"Toggle all services","description":"Use this switch to enable\/disable all services."},"optOut":{"title":"(opt-out)","description":"This service is loaded by default (opt-out possible)."},"required":{"title":"(always required)","description":"This service is always required."},"purposes":"Purposes","purpose":"Purpose"},"contextualConsent":{"acceptAlways":"Always","acceptOnce":"Yes (this time)","description":"Load external content supplied by {title}?"},"poweredBy":"Powered by Klaro!","privacyPolicy":{"name":"privacy policy","text":"To learn more, please read our {privacyPolicy}.\n"},"purposes":{"cms":"Functional","advertising":"Advertising and Marketing","analytics":"Analytics","livechat":"Live chat","security":"Security","styling":"Styling","external_content":"Embedded external content"}}},"styling":{"theme":["light"]}},"dialog_mode":"silent","show_toggle_button":false,"toggle_button_icon":null,"show_close_button":false,"exclude_urls":[],"disable_urls":[]},"user":{"uid":0,"permissionsHash":"188d00f62f08d205033e1277d1a0c00b96a1ce38d8fe1092e00df7083c7c13d8"}}</script>
<script src="/sites/default/files/js/js_CfiOYniZpJmI1dHC1fOqoHFZwGR0JvjclV5P1afHckY.js?scope=footer&amp;delta=0&amp;language=en&amp;theme=drupal_cms_olivero&amp;include=eJzLzkksytfPBpE6-TmZZalAXnpOflJijm5xSWVOZl46XDgvsSwzPbEkMz9Pt6AoMzexqBIA5UsYIQ"></script>

  </drupal-big-pipe-scripts-bottom-marker></drupal-big-pipe-scripts-bottom-marker></body>
</html>
